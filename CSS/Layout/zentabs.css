/*
Zen Browser-Style Tabs
version 2026.02.01 - Third Pass
The Zen formula: inactive = invisible, active = visible
Visual hierarchy through CONTRAST, not addition
*/

/* ============================================ */
/* INACTIVE TABS - Nearly Invisible            */
/* No background, muted text                   */
/* ============================================ */

/* Base tab - transparent, muted text */
.tab-position .tab-wrapper {
  background-color: transparent !important;
  border: none !important;
  border-radius: var(--zen-tab-radius, 8px) !important;
  transition: 
    background-color var(--fast-animation-speed, 140ms) ease-out,
    color var(--fast-animation-speed, 140ms) ease-out !important;
}

/* Inactive tab text - GREY/muted */
.tab-position .tab .title {
  color: var(--colorFg) !important;
  opacity: 0.6 !important;
  transition: opacity var(--fast-animation-speed, 140ms) ease-out !important;
}

/* Inactive favicon - slightly muted too */
.tab-position .tab .favicon {
  opacity: 0.7 !important;
  transition: opacity var(--fast-animation-speed, 140ms) ease-out !important;
}

/* ============================================ */
/* HOVER STATE - Subtle appearance             */
/* ============================================ */

/* Hover - slight background appears */
.tab-position .tab:hover .tab-wrapper {
  background-color: rgba(255, 255, 255, 0.06) !important;
}

/* Hover - text brightens */
.tab-position .tab:hover .title {
  opacity: 0.85 !important;
}

/* Hover - favicon brightens */
.tab-position .tab:hover .favicon {
  opacity: 0.9 !important;
}

/* ============================================ */
/* ACTIVE TAB - Visible & Clear                */
/* Subtle background, WHITE text               */
/* ============================================ */

/* Active - subtle rounded background fill */
.tab-position .tab.active .tab-wrapper {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Active - WHITE text (full brightness) */
.tab-position .tab.active .title {
  opacity: 1 !important;
  color: var(--colorFg) !important;
}

/* Active - favicon full brightness */
.tab-position .tab.active .favicon {
  opacity: 1 !important;
}

/* Active + hover - slightly brighter */
.tab-position .tab.active:hover .tab-wrapper {
  background-color: rgba(255, 255, 255, 0.12) !important;
}

/* ============================================ */
/* PINNED TABS (Grid) - Same Treatment         */
/* Apply same active styling to pinned tabs    */
/* ============================================ */

/* Pinned inactive - muted */
.tab-position.is-pinned .tab .title {
  opacity: 0.6 !important;
}

.tab-position.is-pinned .tab .favicon {
  opacity: 0.7 !important;
}

/* Pinned active - bright */
.tab-position.is-pinned .tab.active .title {
  opacity: 1 !important;
}

.tab-position.is-pinned .tab.active .favicon {
  opacity: 1 !important;
}

.tab-position.is-pinned .tab.active .tab-wrapper {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* ============================================ */
/* CLOSE BUTTON - Hidden until hover           */
/* ============================================ */

.tab-position:not(.is-pinned) .tab .close {
  opacity: 0;
  width: 0;
  min-width: 0;
  padding: 0;
  margin: 0;
  overflow: hidden;
  transition: 
    opacity var(--fast-animation-speed, 140ms) ease-out,
    width var(--fast-animation-speed, 140ms) ease-out,
    margin var(--fast-animation-speed, 140ms) ease-out;
}

.tab-position:not(.is-pinned) .tab:hover .close {
  opacity: 0.5;
  width: 16px;
  min-width: 16px;
  margin-left: 4px;
}

.tab-position:not(.is-pinned) .tab:hover .close:hover {
  opacity: 1;
}

/* ============================================ */
/* CLEAN UP - Remove visual noise              */
/* ============================================ */

/* Remove any default borders/outlines */
.tab-position .tab,
.tab-position .tab-wrapper {
  outline: none !important;
  box-shadow: none !important;
}

/* Separator - very subtle */
#tabs-container .tab-strip .separator hr {
  opacity: 0.15 !important;
}

/* New tab button - muted like inactive tabs */
.newtab button {
  border-radius: var(--zen-tab-radius, 8px) !important;
  opacity: 0.5;
}

.newtab button:hover {
  opacity: 0.8;
  background-color: rgba(255, 255, 255, 0.06) !important;
}

/* ============================================ */
/* TAB STACK COLORS - Keep visible but         */
/* still show active state clearly             */
/* ============================================ */

/* When tab has custom color, active state still shows via text brightness */
/* The text opacity change will make active tabs readable regardless of bg */
