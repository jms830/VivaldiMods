/*
Workspace Buttons Styling
version 2026.01.19
Styles for custom workspace quick-switch buttons injected into tab-strip
See: https://vivaldi.com/blog/how-to/pawel-shows-you-how-to-play-with-workspaces-and-custom-icons-in-vivaldi/
*/

/* Vivaldi's native workspace button hover effect */
.toolbar-tabbar-after button.ToolbarButton-Button[title*="workspace"]:hover,
.toolbar-tabbar-after button.ToolbarButton-Button[title*="Workspace"]:hover {
  background: rgba(255, 255, 255, 0.1);
  border-radius: calc(var(--radius, 8px) * 0.7);
  transition: background 0.2s ease;
}

/* Workspace button full width in sidebar */
.tabbar-workspace-button {
  width: 100% !important;
}

/* Workspace popup styling - solid background to hide elements behind */
.WorkspacePopup,
.workspace-popup,
div[class*="WorkspacePopup"] {
  position: relative;
  z-index: 2147483647 !important;
  background: var(--colorBg, #1e1e1e) !important;
  background-color: var(--colorBg, #1e1e1e) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  opacity: 1 !important;
}

.WorkspacePopup > *,
div[class*="WorkspacePopup"] > * {
  background: inherit;
}

.WorkspacePopup-Items {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.WorkspacePopup-Items::-webkit-scrollbar {
  display: none;
}

/* Suppress pinned tab hover effects when workspace popup is open */
body:has(.WorkspacePopup) #tabs-container .tab-strip .is-pinned .tab-wrapper {
  z-index: 1 !important;
  pointer-events: none;
}

body:has(.WorkspacePopup) #tabs-container .tab-strip .is-pinned .tab-wrapper:hover {
  width: auto !important;
  min-height: auto !important;
  background-color: transparent !important;
}

/* Suppress auto-hide toolbar items when workspace popup is open */
body:has(.WorkspacePopup) .toolbar.toolbar-tabbar-before > *:not(.UrlBar-AddressField) {
  opacity: 0 !important;
  pointer-events: none !important;
  z-index: 1 !important;
}
